<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#2ecc71">
<meta property="og:url" content="http://thecynicaldba.com/what-to-do-all-users-are-sysadmin" />
<title> What to do: all users are sysadmin | the_cynical_dba</title>
<meta property="og:title" content=" What to do: all users are sysadmin | the_cynical_dba"/>
<meta property="og:description" name="description" content="A time bomb with a blast radius encompassing your career" />
<meta name="keywords" content="MSSQL Server, permissions">
<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="http://thecynicaldba.com/what-to-do-all-users-are-sysadmin">
<link rel="alternate" type="application/rss+xml" title="the_cynical_dba" href="http://thecynicaldba.com/feed.xml" />
<script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5961447a33add90011bd1e36&product=inline-share-buttons' async='async'></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-102162987-1', 'auto');
  ga('send', 'pageview');
</script>
<script>base_url = "";</script>
  </head>
  <body class="single">
    <main class="main-container">
        <header class="site-header">
  <div class="container txt-center">
    <a href="#" class="nav-toogle js-menu-trigger sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </a>
    <nav class="js-menu sliding-panel-content">
      <ul>
        <li><a href="/">home</a></li>
        <li><a href="/author">author</a></li>
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i> feed</a></li>
      </ul>
    </nav>
    <div class="js-menu-screen sliding-panel-fade-screen"></div>
      <h1 class="page-title">What to do: all users are sysadmin</h1>
      <p class="post-meta">Jul 9, 2017</p>
  </div>
</header>
        <section class="main-content">
          <article class="post">
  <div class="post-content container">
    <p>Your first day on the job and all appears calm on the surface, until you learn that all <strong>users were previously assigned a shared login with sysadmin permissions</strong>. A time bomb with a blast radius encompassing your career.</p>
<h2 id="keep-calm">1. Keep calm</h2>
<p>More than likely you were hired to help bring stability where you work. Do your best to appear in control…even though the opposite is true at the moment.</p>
<h2 id="develop-the-solution">2. Develop the solution</h2>
<p>Even with limited understanding of the business’s structure, you can create a primitive permissions solution.</p>
<p>List all positions that you know directly access the database (developer, analyst, manager, etc). <strong>Congratulations, these are your new database roles!</strong></p>
<p>Imagine which permissions will be needed within each role. Management can help decide specifics later.</p>
<h2 id="reveal-to-management">3. Reveal to management</h2>
<p>Give them the facts. Let them know that a system catastrophe is on the horizon, but that you have the solution.</p>
<p>Reveal your new database roles and ask if they encompass all positions that require access.
   If so, request the names (or how to acquire the names) of all users that will fall within these roles, as well as the permissions these positions require (permissions will likely be inaccurate, but it’s a work in progress).</p>
<h2 id="build-the-solution">4. Build the solution</h2>
<p>With the roles, estimated permissions, and assigned names in hand, get started by first adding a login for each user (Windows Authentication if available) to the instance. If you are creating SQL logins, be sure to check “<em>user must change password at next login</em>” to help ensure that only the user of the login knows the password.</p>
<h2 id="migrate-users">5. Migrate users</h2>
<p>Request management to confirm users have database access with their new logins before removing the community super login. There will be the inevitable “<em>I couldn’t login once, so this will never work</em>” pushback, as well as wrong password errors. Using Windows Authentication is great in this regard, as the users will undoubtedly know their password.</p>
<blockquote>
  <p>There are additional security concerns to cover (password rotation/complexity, which permissions to assign, etc), but these steps will get you started in the right direction.</p>
</blockquote>
    <aside class="share">
      <div class="sharethis-inline-share-buttons"></div>
    </aside>
  </div>
  <hr>
  <aside id="comments" class="disqus">
    <div class="container">
      <h3><i class="icon icon-comments-o"></i> Comments</h3>
      <div id="disqus_thread"></div>
      <script>
          /**
           *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
           *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
           */
          //var disqus_developer = 1; // Comment out when the site is live
          var disqus_config = function () {
              this.page.url = 'http://thecynicaldba.com/what-to-do-all-users-are-sysadmin';  // Replace PAGE_URL with your page's canonical URL variable
              this.page.identifier = '/what-to-do-all-users-are-sysadmin'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
          };
          (function() {  // DON'T EDIT BELOW THIS LINE
              var d = document, s = d.createElement('script');
              s.src = 'https://cynical-dba.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
  </aside>
</article>
        </section>
<div class="clearfix"></div>
<footer class="site-footer txt-center">
  <hr>
  <ul class="social">
  </ul>
  <svg style="position: absolute; width: 0; height: 0; overflow: hidden" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-mug" viewBox="0 0 32 32">
      <title>coffee</title>
      <path d="M30 10h-6v-3c0-2.761-5.373-5-12-5s-12 2.239-12 5v20c0 2.761 5.373 5 12 5s12-2.239 12-5v-3h6c1.105 0 2-0.895 2-2v-10c0-1.105-0.895-2-2-2zM5.502 8.075c-1.156-0.381-1.857-0.789-2.232-1.075 0.375-0.286 1.075-0.694 2.232-1.075 1.811-0.597 4.118-0.925 6.498-0.925s4.688 0.329 6.498 0.925c1.156 0.381 1.857 0.789 2.232 1.075-0.375 0.286-1.076 0.694-2.232 1.075-1.811 0.597-4.118 0.925-6.498 0.925s-4.688-0.329-6.498-0.925zM28 20h-4v-6h4v6z"></path>
      </symbol>
    </defs>
  </svg>
  <small>&copy; 2017. Made with <a href="http://jekyllrb.com" target="_blank">Jekyll</a> and <svg class="icon-mug"><use xlink:href="#icon-mug"></use></svg>.</small>
</footer>
    </main>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jekyll-search.min.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
